<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title>Event Manager</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { font-family: 'Arial', sans-serif; background: #f4f4f9; }
        .card { margin-bottom: 20px; }
        .card-img-top { height: 200px; object-fit: cover; }
        .navbar { background-color: #343a40; }
        .btn-outline-secondary:hover { background-color: #6c757d; color: white; }
        .wishlist-count { background-color: red; color: white; border-radius: 50%; padding: 2px 6px; font-size: 12px; }
        .pagination { justify-content: center; }
    </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
        <a class="navbar-brand" href="#">Event Manager</a>
        <button class="navbar-toggler" data-bs-target="#navbarSupportedContent" data-bs-toggle="collapse" type="button">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#">Explore</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Wishlist <span class="wishlist-count" id="wishlistCount">0</span></a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="container mt-4">
    <input class="form-control mb-3" id="searchInput" placeholder="Search events..." type="text">
    <div class="row mb-3">
        <div class="col-md-4">
            <select class="form-select" id="locationFilter">
                <option value="">All Locations</option>
                <!-- Options would be dynamically added -->
            </select>
        </div>
        <div class="col-md-4">
            <select class="form-select" id="categoryFilter">
                <option value="">All Categories</option>
                <!-- Options would be dynamically added -->
            </select>
        </div>
        <div class="col-md-4">
            <button class="btn btn-outline-secondary w-100" onclick="sortEvents()">Sort by Date</button>
        </div>
    </div>

    <div class="row" id="eventsContainer"></div>

    <nav aria-label="Page navigation">
        <ul class="pagination" id="pagination"></ul>
    </nav>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
  const events = [
    // This would typically be populated from a server or an API
    {id: 1, name: "Tech Conference", date: "2023-10-15", location: "New York", category: "Technology", description: "A conference on emerging tech.", image: "tech.jpg"},
    {id: 2, name: "Art Exhibition", date: "2023-11-20", location: "Los Angeles", category: "Art", description: "Explore modern art.", image: "art.jpg"},
    // More events...
  ];

  const eventsPerPage = 6;
  let currentPage = 1;
  let wishlist = new Set();

  function displayEvents(page) {
    const container = document.getElementById('eventsContainer');
    container.innerHTML = '';
    const startIndex = (page - 1) * eventsPerPage;
    const selectedEvents = events.slice(startIndex, startIndex + eventsPerPage);

    selectedEvents.forEach(event => {
      const card = `
            <div class="col-md-4">
                <div class="card">
                    <img src="${event.image}" class="card-img-top" alt="${event.name}">
                    <div class="card-body">
                        <h5 class="card-title">${event.name}</h5>
                        <p class="card-text">Date: ${event.date}<br>Location: ${event.location}</p>
                        <button onclick="alert('View Details for ${event.name}')" class="btn btn-info btn-sm">Details</button>
                        <button onclick="toggleWishlist(${event.id})" class="btn btn-outline-secondary btn-sm">${wishlist.has(event.id) ? 'Remove from Wishlist' : 'Add to Wishlist'}</button>
                        <button onclick="alert('Like functionality not implemented')" class="btn btn-outline-secondary btn-sm">❤️ Like</button>
                    </div>
                </div>
            </div>`;
      container.innerHTML += card;
    });

    updatePagination();
    updateWishlistCount();
  }

  function updatePagination() {
    const totalPages = Math.ceil(events.length / eventsPerPage);
    const pagination = document.getElementById('pagination');
    pagination.innerHTML = '';
    for(let i = 1; i <= totalPages; i++) {
      const li = document.createElement('li');
      li.className = 'page-item' + (i === currentPage ? ' active' : '');
      const link = document.createElement('a');
      link.className = 'page-link';
      link.href = '#';
      link.onclick = () => { currentPage = i; displayEvents(currentPage); };
      link.textContent = i;
      li.appendChild(link);
      pagination.appendChild(li);
    }
  }

  function filterEvents() {
    const search = document.getElementById('searchInput').value.toLowerCase();
    const location = document.getElementById('locationFilter').value;
    const category = document.getElementById('categoryFilter').value;

    const filteredEvents = events.filter(event =>
      (event.name.toLowerCase().includes(search) || event.description.toLowerCase().includes(search)) &&
      (location === '' || event.location === location) &&
      (category === '' || event.category === category)
    );
    events.length = 0; // Reset events array
    events.push(...filteredEvents); // Add filtered events
    currentPage = 1;
    displayEvents(currentPage);
  }

  function sortEvents() {
    events.sort((a, b) => new Date(a.date) - new Date(b.date));
    displayEvents(currentPage);
  }

  function toggleWishlist(id) {
    if (wishlist.has(id)) {
      wishlist.delete(id);
    } else {
      wishlist.add(id);
    }
    displayEvents(currentPage);
  }

  function updateWishlistCount() {
    document.getElementById('wishlistCount').innerText = wishlist.size;
  }

  // Initial setup
  document.getElementById('searchInput').addEventListener('keyup', filterEvents);
  document.getElementById('locationFilter').addEventListener('change', filterEvents);
  document.getElementById('categoryFilter').addEventListener('change', filterEvents);

  displayEvents(currentPage);
</script>

</body>
</html>